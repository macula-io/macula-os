#!/bin/bash

. /etc/os-release

# Generate /etc/issue with ASCII-safe banner
cat > /etc/issue << "BANNER"

 MaculaOS - Decentralized Edge Computing

BANNER

cat >> /etc/issue << EOF
 $PRETTY_NAME
 Kernel \r on \m (\l)

EOF

# Get network interfaces (only real ones, not k8s/docker)
NICS=$(ip -br addr show 2>/dev/null | grep -E -v '^(lo|flannel|cni|veth|docker|br-)' || echo "")
if [ -n "$NICS" ]; then
cat >> /etc/issue << EOF
 Network:
$NICS

EOF
fi

cat >> /etc/issue << "EOF"
 Login: macula / macula

EOF
