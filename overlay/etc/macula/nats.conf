# MaculaOS NATS Server Configuration
# https://docs.nats.io/running-a-nats-service/configuration

# Server binding - localhost only for security
listen: 127.0.0.1:4222

# Server name for logging
server_name: maculaos-nats

# Maximum payload size (1MB default, can be increased for large events)
max_payload: 1MB

# Maximum pending bytes per connection
max_pending: 64MB

# Maximum connections
max_connections: 1024

# Ping interval for connection health
ping_interval: 2m
ping_max: 2

# Write deadline for slow consumers
write_deadline: 10s

# Logging
debug: false
trace: false
logtime: true
log_file: /var/log/nats-server.log

# No authentication for localhost-only access
# For cluster mode, enable with:
# authorization {
#   users = [
#     {user: macula, password: $NATS_PASSWORD}
#   ]
# }

# JetStream (persistent streams) - disabled by default
# Enable in /var/lib/maculaos/config.yaml if needed:
#
# jetstream {
#   store_dir: /var/lib/maculaos/nats/jetstream
#   max_mem: 256MB
#   max_file: 1GB
# }

# Cluster mode - disabled by default
# Enable for multi-node MaculaOS clusters:
#
# cluster {
#   name: maculaos
#   listen: 0.0.0.0:6222
#   routes = [
#     nats-route://node1:6222
#     nats-route://node2:6222
#   ]
# }
